<div class="container">
    <div class="entete">
        <h1>Question et réponses</h1>
        <a class="btn btn-floating pulse orange" ui-sref="questionPost" ui-sref-active="select"><i class="material-icons">add</i></a>
    </div>

    <input id="search" class="form-control" placeholder="Rechercher..." ng-model="q" />
    <div id="question">
        <div class="counters view">
            <div ng-bind="$ctrl.question.votes"></div>

            <div ng-bind="$ctrl.question.nb_views + 1"></div>
        </div>
        <div class="contenu">
            <h3 ng-bind="$ctrl.question.title"></h3>
            <button ng-if="$ctrl.myQuestion" ui-sref="editPost({postId : $ctrl.question.id})">EDITION</button>
            <span>{{$ctrl.question.date | date:"MM/dd/yyyy"}}</span>
            <p ng-bind-html="$ctrl.question.content"></p>
        </div>
        <div class="collection-item avatar">
            <img class="circle" ng-src="{{$ctrl.question.user.avatar}}" alt="avatar">
        </div>
    </div>

    <a class="waves-effect waves-light btn orange lighten-2" ui-sref="questionSpec.postAnswer">
        <i class="material-icons left">add</i>Nouvelle Réponse</a>

    <div>
        <ui-view></ui-view>


        <div ng-if="$ctrl.question.answers.length > 0">
            <div id="answer" dir-paginate="answer in $ctrl.question.answers | filter : q | itemsPerPage: $ctrl.pageSize" current-page="$ctrl.currentPage" ">

                <div class="counters view ">
                    <div ng-bind="answer.votes "></div>
                </div>
                <div class="contenu ">
                    <h3 ng-bind="answer.title "></h3>
                    <!--<button class="lien " ui-sref="editPost({postId : answer.id}) ">edit</button>-->
                    <span>{{answer.date | date:"MM/dd/yyyy "}}</span>
                    <p ng-bind-html="answer.content "></p>
                </div>

            </div>
        </div>

        <dir-pagination-controls boundary-links="true " on-page-change="$ctrl.pageChangeHandler(newPageNumber)
                " template-url="node_modules/angular-utils-pagination/dirPagination.tpl.html "></dir-pagination-controls>
    </div>
</div>